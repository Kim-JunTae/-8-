# 오라클로 배우는 데이터베이스 입문

[데이터베이스](https://www.notion.so/de87f4631129440e843c6d8eb316c3b9)

### 복습하면서 용어만 다시 정의해서 마지막에 용어사전에 때려넣기

기간 : 20일(2021.02.15~2021.03.07)

- **Chapter1 데이터베이스**
    - DBMS : Database Management, 데이터베이스 관리 시스템
    - 데이터 : 어떤 필요에 의해 수집했지만 아직 특정 목적을 위해 평가하거나 정제하지 않은 값이나 사실 또는 자료 자체
    - 정보 : 수집한 데이터를 어떠한 목적을 위해 분석하거나 가공하여 가치를 추가하거나 새로운 의미를 이끌어 낼 수 있는 결과로 별 수 있습니다.
    - 효율적인 데이터 관리를 위한 조건
        - 데이터를 통합하여 관리
        - 일관된 방법으로 관리
        - 데이터 누락 및 중복 제거
        - 여러 사용자(응용 프로그램 포함)가 공동으로 실시간 사용 가능
    - 계층형 데이터 모델
    트리 구조를 활용하여 데이터 관련성을 계층별로 나누어 부모 자식 관계를 정의하고 데이터를 관리합니다. 일대다(1:N) 관계의 데이터 구조를 파악해야합니다.
    - 네트워크형 데이터 모델
    그래프 구조를 기반으로, 개체 간 관계를 그래프 구조로 연결하므로 자식 개체가 여러 부모 개체를 가질 수 있다.
    - 관계형 데이터 모델의 핵심 구성 요소
        - 개체(entity)

            데이터베이스에서 데이터화하려는 사물, 개념의 정보 단위
            관계형 데이터베이스의 테이블개념과 대응되며 테이블은 릴레이션으롤 표기하기도 합니다.

        - 속성(attribute)

            개체를 구성하는 데이터의 가장 작은 논리적 단위
            데이터의 종류, 특성, 상태 등을 정의. 관계형 데이터베이스의 열 개념과 대응됩니다.

        - 관계(relationship)

            개체와 개체 또는 속성 간의 연관성을 나타내기 위해 사용
            관계형 데이터베이스에서는 테이블 간의 관계를 외래키 등으로 구현하여 사용합니다.

        → 핵심 구성 요소를 활용하여 데이터의 독립성과 무결성을 정의한다!

    - RDBMS(Realational Database Management System) : 관계형 데이터 모델 개념을 바탕으로 데이터를 저장 관리하는 데이터베이스
    - SQL : Structured Query Language. 에스큐엘, 시퀄
    RDBMS에서 데이터를 다루고 관리하는데 사용하는 데이터베이스 질의 언어
    - 사용 목적에 따른 SQL 종류
        - DQL(Data Query Language)
        RDBMS에 저장한 데이터를 원하는 방식으로 조회하는 명령어
        - DML(Data Manipulation Language)
        RDBMS 내 테이블의 데이터를 저장 수정 삭제하는 명령어
        - DDL(Data Definition)
        RDBMS 내 데이터 관리를 위해 테이블을 포함한 여러 객체를 생성 수정 삭제하는 명령어
        - TCL(Transaction Control Language)
        트랜잭션 데이터의 영구 저장 취소 등과 관련된 명령어
        - DCL(Data Control Language)
        데이터 사용 권한과 관련된 명령어
- **Chapter2 관계형 데이터베이스와 오라클 데이터베이스**
    - 관계형 데이터베이스의 구성
        - 테이블 (+관계 relation)
        데이터를 관리하는 2차원 표 형태의 데이터 저장 공간
            - 행(row, 로) (+ 튜플 tuple, 레코드 record)
            저장하는 하나의 개체를 구성하는 여러 값을 가로로 늘어뜨린 형태
            - 열(column, 칼럼) (+ 애트리뷰트 attribute, 필드 field)
            저장하려는 데이터를 대표하는 이름과 공통 특성을 정의
        - 키 (Key)
            - 기본키(primary key)
            - 후보키(candidate key)
            - 외래키(foreign key)
            - 복합키(composite key)
    - 객체 (ex 오라클 데이터베이스)
    데이터를 저장하고 관리하기 위한 논리 구조를 가진 구성 요소
        - 테이블(table) : 데이터를 저장하는 장소
        - 인덱스(index) : 테이블의 검색 효율을 높이기 위해 사용함
        - 뷰(view) : 하나 또는 여러 개의 선별된 데이터를 논리적으로 연결하여 하나의 테이블처럼 사용하게 해 줌
        - 시퀀스(sequence) : 일련 번호를 생성해 줌
        - 시노님(synonym) : 오라클 객체의 별칭(다른 이름)을 지정함
        - 프로시저(procedure) : 프로그래밍 연산 및 기능 수행이 가능함(반환 값 없음)
        - 함수(function) : 프로그래밍 연산 및 기능 수행이 가능함
        - 패키지(package) : 관련 있는 프로시저와 함수를 보관함
        - 트리거(trigger) : 데이터 관련 작업의 연결 및 방지 관련 기능을 제공함
    - PL/SQL(Procedural Language extension to SQL)
    변수, 조건문, 반복문 등 프로그래밍 언어에서 제공하는 요소를 사용하여 데이터를 관리할 수 있습니다.
- **Chapter4 SELECT문의 기본 형식**
    - 데이터를 조회하는 3가지 방법
        - 셀렉션(selection) : 행 단위로 원하는 데이터를 조회하는 방식
        - 프로젝션(projection) : 열 단위로 원하는 데이터를 조회하는 방식
        - 셀렉션 + 프로젝션
    - 조인(join) : 두 개 이상의 테이블을 연결하여 하나의 테이블인 것처럼 조회하는 방식
    - SELECT 기본 형식

        ```sql
        SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
        FROM [조회할 테이블 이름];
        ```

        - SELECT
        조회할 열 이름 또는 출력할 데이터를 하나 이상 지정 
        또는 에스터리스크(*)로 전체 열을 지정
        - FROM
        조회할 테이블 이름
    - DISTINCT
    조회한 데이터의 내용에서 불필요한 중복을 제거하고 특정 데이터 종류만 확인하고 싶을 때 사용(↔ 기본값 ALL)
    - ALIAS 별칭 : 기본적으로 'AS'가 붙는 형식을 하는 것이 알아보기 편하다
    - ORDER BY 기본형식

        ```sql
        SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
        FROM [조회할 테이블 이름]
        ...(그 밖의 절)
        ORDER BY [정렬하려는 열 이름[여러 열 지정 가능)] [정렬 옵션];
        ```

        - 정렬 옵션 : 기본값 오름차순(ASC), 내림차순(DESC) 지정, 또는 각 열마다 지정 사용
        - 주의 사항 : 필요한 경우가 아니면 사용하지 않는 것이 좋다. 많은 자원을 사용하기 때문
- **Chapter5 더 정확하고 다양하게 결과를 출력하는 WHERE절과 연산자**
    - WHERE 기본형식
    SELECT문으로 데이터를 조회할 때 특정 조건을 기준으로 원하는 행을 출력하는데 사용

        ```sql
        SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
        FROM [조회할 테이블 이름]
        WHERE [조회할 행을 선별하기 위한 조건식];
        ```

        - 조건식을 여러 개 지정
            - 논리 연산자 AND, OR
    - 산술 연산자
        - 더하기 +, 빼기 -, 곱하기 *, 나누기 /
    - 비교 연산자
        - 대소 비교 연산자 : >, ≥, <, ≤ 문자열도 가능
        - 등가 비교 연산자 : =, ≠, <>, ^=
    - 논리 부정 연산자 : NOT
        - 보통 IN, BETWEEN, IS NULL 연산자와 복합적으로 사용
    - IN 연산자 기본형식

        ```sql
        SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
        FROM [조회할 테이블 이름]
        WHERE 열 이름 IN (데이터1, 데이터2, ... 데이터N);
        ```

    - BETWEEN A AND B 연산자 기본형식

        ```sql
        SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
        FROM [조회할 테이블 이름]
        WHERE 열 이름 BETWEEN 최솟값 AND 최댓값;
        ```

    - LIKE 연산자와 와일드 카드

        ```sql
        SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
        FROM [조회할 테이블 이름]
        WHERE 열 이름 LIKE '예시';
        ```

        - 와일드 카드
            - _ : 어떤 값이든 상관없이 한 개의 문자 데이터를 의미
            - % : 길이와 상관없이(문자 없는 경우도 포함) 모든 문자 데이터를 의미
            - 와일드카드 문자가 데이터 일부일 경우

                ```sql
                SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
                FROM [조회할 테이블 이름]
                WHERE 열 이름 LIKE 'A\_A' ESCAPE '\';
                ```

        - LIKE 연산자와 와일드 카드 문자의 성능

            실제 많은 데이터 조회시  성능을 고려해야한다.

    - IS NULL 연산자
    - 집합 연산자
        - UNION : 합집합, 중복값 제거
        - UNION ALL : 합집합, 중복값 출력
        - MINUS : 차집합, 존재하지 않는 데이터만 출력
        - INTERSECT : 교집합
    - 연산자 우선순위 : 검색해서 찾아보시길
- **Chapter6 데이터 처리와 가공을 위한 오라클 함수**
    - 오라클함수 : 특정한 결과 값을 얻기 위해 데이터를 입력할 수 있는 특수명령어
        - 내장 함수 (built-in function)
            - 단일행 함수 : 데이터가 한 행씩 입력되고 한 행당 결과가 하나씩 나오는 함수
            - 다중행 함수 : 여러 행이 입력되어 하나의 행으로 결과가 반환되는 함수
        - 사용자 정의 함수 (user-defined function)
    - 문자함수
        - LOWER(문자열)
        괄호 안 문자 데이터를 모두 소문자로 변환하여  반환
        - INITCAP(문자열)
        괄호 안 문자 데이터 중 첫 글자는 대문자로, 나머지 문자를 소문자로 변환 후 반환
        - UPPER(문자열)
        괄호 안 문자 데이터를 모두 대문자로 변환하여  반환
            - 사용 예시

            검색에서 글 제목이나 글 본문과 같이 문자열 데이터에서

            ```sql
            SELECT *
            FROM 게시판 테이블
            WHERE 게시판 제목 열 LIKE '%Oracle%'
               OR 게시판 본문 열 LIKE '%Oracle%';

            SELECT *
            FROM 게시판 테이블
            WHERE 게시판 제목 열 LIKE LOWER('%검색값%')
               OR 게시판 본문 열 LIKE LOWER('%검색값%');
            ```

        - LENGTH(문자열)
        문자열 길이 반환
        - LENGTHB(문자열)
        바이트 수 반환
        - SUBSTR(문자열 데이터, 시작위치, 추출길이) or SUBSTR(문자열 데이터, 시작위치)
        시작 위치부터 추출길이만큼 또는 시작위치부터 끝까지 추출. 음수일 경우 마지막 위치로부터 거슬러 올라간 위치에서 시작
        - INSTR

            문자열 데이터 안에서 특정 문자 위치를 찾아 반환

            ```sql
            INSTR([대상 문자열 데이터(필수)], 
                  [위치를 찾으려는 부분 문자(필수)],
                  [위치 찾기를 시작할 대상 문자열 데이터 위치(선택, 기본값은 1)],
                  [시작위치에서 찾으려는 문자가 몇 번째인지 지정(선택, 기본값은 1)])
            ```

        - REPLACE([문자열 데이터 또는 열 이름(필수)], [찾는 문자(필수)], [대체할 문자(선택)])
        특정 문자를 다른 문자로 바꿔서 반환
        - LPAD, RPAD
        데이터의 빈 공간을 특정문자로 채워서 반환한다.

            ```sql
            LPAD([문자열 데이터 또는 열이름(필수)], [데이터의 자릿수(필수)], [빈 공간에 채울 문자(선택)])
            RPAD([문자열 데이터 또는 열이름(필수)], [데이터의 자릿수(필수)], [빈 공간에 채울 문자(선택)])
            ```

        - CONCAT(문자열, 문자열)
        두 개의 문자열 데이터를 하나의 데이터로 연결하고 반환
        - TRIM, LTRIM, RTRIM
        특정 문자를 지우기 위해 사용한다.

            ```sql
            TRIM([삭제 옵션(선택)], [삭제할 문자(선택)], FROM [원본 문자열 데이터(필수)])

            //삭제 옵션
            //왼쪽에 있는 글자를 지우는 LEADING
            //오른쪽에 있는 글자를 지우는 TRAILING
            //양쪽의 글자를 모두 지우는 BOTH

            LTRIM([원본 문자열 데이터(필수)], [삭제할 문자 집합(선택)])
            RTRIM([원본 문자열 데이터(필수)], [삭제할 문자 집합(선택)])
            ```

    - 숫자함수
        - ROUND : 지정된 숫자의 특정 위치에서 반올림한 값을 반환

            ```sql
            ROUND([숫자(필수)], [반올림 위치(선택)])
            // 반올림 위치 선택하지 않으면 소수점 첫 번째 자리에서 반올림이 수행됩니다.
            ```

        - TRUNC : 지정된 숫자의 특정 위치에서 버림한 값을 반환

            ```sql
            TRUNC([숫자(필수)], [버림 위치(선택)])
            // 버림 위치 선택하지 않으면 소수점 첫 번째 자리에서 반올림이 수행됩니다.
            ```

        - CEIL : 지정된 숫자보다 큰 정수 중 가장 작은 정수를 반환

            ```sql
            CEIL([숫자(필수)]
            ```

        - FLOOR : 지정된 숫자보다 작은 정수 중 가장 큰 정수를 반환

            ```sql
            FLOOR([숫자(필수)]
            ```

        - MOD : 지정된 숫자를 나눈 나머지 값을 반환

            ```sql
            MOD([나눗셈 될 숫자(필수), [나눌 숫자(필수)])
            ```

    - 날짜함수
        - 날짜함수 연산
            1. 날짜 데이터 + 숫자 : 날짜 데이터보다 숫자만큼 일수 이후의 날짜
            2. 날짜 데이터 - 숫자 : 날짜 데이터보다 숫자만큼 일수 이전의 날짜
            3. 날짜 데이터 - 날짜 데이터 : 두 날짜 데이터 간의 일수 차이
            4. 날짜 데이터 + 날짜 데이터 : 연산 불가 지원하지 않음
        - ADD_MONTHS : 몇 개월 이후 날짜를 구함

            ```sql
            ADD_MONTHS([날짜 데이터(필수)], [더할 개월 수(정수)(필수)])
            ```

        - MONTHS_BETWEEN : 두 날짜 간의 개우러 수 차이를 구함

            ```sql
            MONTHS_BETWEEN([날짜 데이터1(필수)], [날짜 데이터2(필수)])
            ```

        - NEXT_DAY, LAST_DAY

            ```sql
            NEXT_DAY([날짜 데이터(필수)], [요일 문자(필수)])
            //특정 날짜를 기준으로 돌아오는 요일의 날짜를 출력해 주는 함수입니다.

            LAST_DAY([날짜 데이터(필수)]
            //특정 날짜가 속한 달의 마지막 날짜를 출력해 주는 함수입니다.
            ```

        - ROUND, TRUNC : 날짜의 반올림, 버림 가능

            ```sql
            ROUND([날짜데이터(필수)],[반올림 기준 포맷])
            TRUNC([날짜데이터(필수)],[버림 기준 포맷])

            //.... 많은 포맷들
            ```

    - 형 변환 함수
        - TO_CHAR
        - TO_NUMBER
        - TO_DATE
    - NULL 처리 함수
        - NVL([NULL인지 여부를 검사할 데이터 또는 열(필수)], [앞의 데이터가 NULL일 경우 반환할 데이터](필수))
        - NVL2([NULL인지 여부를 검사할 데이터 또는 열(필수)], [앞 데이터가 NULL이 아닐 경우 반환할 데이터 또는 계산식(필수)], [앞의 데이터가 NULL일 경우 반환할 데이터](필수))
    - DECODE 함수

        ```sql
        DECODE([검사 대상이 될 열 또는 데이터, 연산이나 함수의 결과],
        			 [조건1], [데이터가 조건1과 일치할 때 반환할 결과],
        			 [조건2], [데이터가 조건2과 일치할 때 반환할 결과],
        			 [조건3], [데이터가 조건3과 일치할 때 반환할 결과],
        			 ...
        			 [조건n], [데이터가 조건n과 일치할 때 반환할 결과],
        			 [위 조건 1~n과 일치한 경우가  없을 때 반환할 결과])
        ```

    - CASE 문

        ```sql
        CASE [검사 대상이 될 열 또는 데이터, 연산이나 함수의 결과(선택)],
             WHEN [조건1] THEN [조건1의 결과 값이 true일 때, 반환할 결과]
             WHEN [조건2] THEN [조건2의 결과 값이 true일 때, 반환할 결과]
        	   ...
        	   WHEN [조건n] THEN [조건n의 결과 값이 true일 때, 반환할 결과]
        		 ELSE [위 조건1~n과 일치하는 경우가 없을 때 반환할 결과]
        END
        ```

- **Chapter7 다중행 함수와 데이터 그룹화**
- **Chapter8 여러 테이블을 하나의 테이블처럼 사용하는 조인**
- **Chapter9 SQL문 속 또 다른 SQL문, 서브쿼리**
-